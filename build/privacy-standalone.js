!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){var e=["C0001","C0002","C0003","C0004"],t={categories:e,categoriesDefault:e[0],configEndpoint:"https://cdn.cookielaw.org/consent/",id:"onetrust",location:"feds_location",locationURL:"https://geo2.adobe.com/json/?callback=",url:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",events:{privacyConsent:"adobePrivacy:PrivacyConsent",privacyConsentCustom:"adobePrivacy:PrivacyCustom",privacyReject:"adobePrivacy:PrivacyReject",oneTrustReady:"feds.events.oneTrustReady"},cookies:{consent:"OptanonConsent",interaction:"OptanonAlertBoxClosed"},selectors:{banner:"#onetrust-banner-sdk",bannerAccept:"#onetrust-banner-sdk #onetrust-accept-btn-handler",bannerClose:"#ot-banner-close",bannerCustomize:"#onetrust-banner-sdk #onetrust-pc-btn-handler",bannerIcon:"#ot-cookie-button",bannerReject:"#onetrust-banner-sdk #onetrust-reject-all-handler",buttonGroup:"#onetrust-banner-sdk #onetrust-button-group",preferenceCenter:"#onetrust-pc-sdk",preferenceCenterAccept:"#onetrust-pc-sdk .enable-all-btn",preferenceCenterAlwaysActive:"#onetrust-pc-sdk #first-party-cookies-domain",preferenceCenterCheckboxes:"#onetrust-pc-sdk .switch-checkbox",preferenceCenterClose:"#onetrust-pc-sdk .pc-close-button",preferenceCenterConfirm:"#onetrust-pc-sdk .pc-save-and-close",preferenceCenterFaqs:"#onetrust-pc-sdk .ot-general-question",preferenceCenterReject:"#onetrust-pc-sdk .disable-all-btn",toastNotification:"#ot-cookie-settings",toastNotificationClose:"#ot-cookie-settings .cs-close",toastNotificationManage:"#ot-cookie-settings .ot-sdk-show-settings",wrapper:"#onetrust-consent-sdk"},restrictions:{imsTimeout:3e3,userTags:{age:["agegroup_under13","agegroup_13_15"],edu:["edu","edu_k12","edu_hed","edu_student"]}}},n=function(e,t){var n;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)},o=function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e},r=function(e,t){return!(!o(e)&&!Array.isArray(e)||"string"!=typeof t||!t.length)&&Object.prototype.hasOwnProperty.call(e,t)},i=function(e,t){var n,o,i,a;if(e&&"object"==typeof e&&!Array.isArray(e)&&"string"==typeof t&&Object.keys(e).length&&t.length)for(i=(n=t.split(".")).length,a=e,o=0;o<i;o+=1){if(!r(a,n[o]))return;a=a[n[o]]}return a},a=function(e){return!o(e)||0===Object.keys(e).length},s=function(e){return"function"==typeof e},c=function(e,t){var n=r(t,"target")&&"string"==typeof t.target&&!!t.target.length,o=document.querySelector(n?t.target:"head"),i=e instanceof HTMLLinkElement,a=e instanceof HTMLScriptElement;o instanceof HTMLElement&&(i||a)&&o.appendChild(e)},l=/*#__PURE__*/function(){function e(e){var t=this;void 0===e&&(e={});var n=new URLSearchParams(window.location.search);this.module=e.control,this.debug=n.getAll("fedsDebug").some(function(e){return e===t.module||"*"===e}),this.debug&&this.log("Debug mode"),window.feds=window.feds||{},window.feds.debug=window.feds.debug||[],window.feds.debug.push(this.module)}var t=e.prototype;return t.message=function(){var e=[this.module+":"];return[].slice.call(arguments).forEach(function(t){return e.push(t)}),e.concat()},t.log=function(){this.debug&&window.console.log.apply(null,this.message.apply(this,[].slice.call(arguments)))},t.warn=function(){this.debug&&window.console.warn.apply(null,this.message.apply(this,[].slice.call(arguments)))},t.error=function(){this.debug&&window.console.error.apply(null,this.message.apply(this,[].slice.call(arguments)))},e}(),u={},d=new l({control:"createResourceLink"});u.scriptType="script",u.styleType="style",u.allowedTypes=[u.scriptType,u.styleType],u.isConfigValid=function(e){var t=!a(e),n=!!r(e,"path")&&"string"==typeof e.path&&!!e.path.length,o=u.allowedTypes.indexOf(e.type)>-1,i=!r(e,"async")||"boolean"==typeof e.async,c=!r(e,"crossorigin")||"boolean"==typeof e.crossorigin,l=!r(e,"data")||!a(e.data),d=!r(e,"successCallback")||s(e.successCallback),f=!r(e,"errorCallback")||s(e.errorCallback),g=!r(e,"id")||"string"==typeof e.id&&!!e.id.length,p=!r(e,"where")||"string"==typeof e.where&&!!e.where.length&&document.querySelector(e.where)instanceof HTMLElement,v=!r(e,"when")||"string"==typeof e.when&&!!e.when.length;return t&&n&&o&&i&&c&&l&&d&&f&&g&&p&&v},u.generateResource=function(e){var t;return e.type===u.scriptType?((t=document.createElement("script")).type="text/javascript",t.src=e.path,r(e,"async")&&(t.async=e.async),r(e,"crossorigin")&&!0===e.crossorigin&&t.setAttribute("crossorigin",e.crossorigin),r(e,"data")&&!a(e.data)&&Object.keys(e.data).forEach(function(n){t.setAttribute("data-"+n,e.data[n])})):e.type===u.styleType&&((t=document.createElement("link")).type="text/css",t.rel="stylesheet",t.href=e.path),r(e,"id")&&(null===document.querySelector("#"+e.id)?t.id=e.id:d.error("element id is already used",t)),t};var f=function(e){if(!a(e)&&u.isConfigValid(e))return new Promise(function(t,n){var o=u.generateResource(e);o.addEventListener("load",function(){t(o),r(e,"successCallback")&&e.successCallback(o)}),o.addEventListener("error",function(t){n(t),r(e,"errorCallback")&&e.errorCallback(t)}),r(e,"when")?window.addEventListener(e.when,function(){c(o,{target:e.where})}):c(o,{target:e.where})})},g=function(){return new Promise(function(e){var n=function(){var e=window.sessionStorage.getItem(t.location);if(null!==e&&""!==e)try{e=JSON.parse(e),r(e,"country")&&""!==e.country||(e=null)}catch(t){e=null}return e}();if(null!==n)e(n);else{var o="privacy_"+Date.now()+Math.round(1e5*Math.random());window[o]=function(n){var r,i,a,s,c=(i={},s=(r=n).state,(a=r.country)&&(i.country=a),s&&(i.state=s),i);window.sessionStorage.setItem(t.location,JSON.stringify(c)),e(c),delete window[o]},f({path:""+t.locationURL+o,type:"script"}).catch(function(){e({})})}})};function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}var v=function(e,t){var n,o,r,i;if("string"==typeof e&&e.length&&"string"==typeof document.cookie)for(o=(n=document.cookie.split("; ")).length-1;o>=0;o-=1)if("string"==typeof(r=n[o])&&r.length&&e===(r=r.split(/=(.+)/))[0]){if("boolean"==typeof t&&t)return r[1];i=window.decodeURIComponent(r[1])}return i},h=function(){var e=document.querySelector('script[src$="/privacy-standalone.js"]')||document.querySelector('script[src$="/feds.js"]');if(e){var t=document.createElement("a");return t.href=e.src,"www.adobe.com"===t.host}return!1},m=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},y=new l({control:"privacy"}),w=function(e,t){var n=!1;if("string"==typeof e&&""!==e){var r="https://sstats.adobe.com/ee/v1/interact?configId=11dd9af9-1455-4159-bb5e-0b1fdf039f76:"+(h()?"prod":"dev")+"&requestId="+m(),a=window.location.protocol+"//"+window.location.host+window.location.pathname,c={};s(i(window,"OneTrust.getGeolocationData"))&&(c=window.OneTrust.getGeolocationData());var l=i(window,"fedsConfig.privacy.otDomainId"),u={xdm:{web:{webPageDetails:{name:a,URL:a},webInteraction:{type:"other",name:e}},_adobe_corpnew:{consentTracking:{activeGroups:window.adobePrivacy.activeCookieGroups().toString(),activeGroupsArray:window.adobePrivacy.activeCookieGroups(),domainID:l,continent:c.continent||"",country:c.country||"",state:c.state||"",stateName:c.stateName||"",city:c.city||"",zipcode:c.zipcode||"",timezone:c.timezone||""}}}};try{u.xdm.timestamp=(new Date).toISOString()}catch(e){}void 0!==t&&(u.xdm._adobe_corpnew.consentTracking.type=t);var d=function(e){if(!n){e&&(u.xdm.identityMap={ECID:[{id:e}]});var t=new window.XMLHttpRequest;t.open("POST",r,!0),t.setRequestHeader("Content-Type","text/plain"),t.withCredentials=!1,t.send(JSON.stringify({events:[u]})),n=!0,y.log("analytics data",u)}};if(s(i(window,"_satellite.getVisitorId"))){var f=window._satellite.getVisitorId();if(o(f)&&s(f.getMarketingCloudVisitorID)){var g=f.getMarketingCloudVisitorID(d);g&&d(g)}else d()}else{var p=v("AMCV_9E1005A551ED61CA0A490D45%40AdobeOrg");"string"==typeof p&&p.length&&"string"==typeof(p=(p=p.split("MCMID|"))[1])&&p.length?d(p=(p=p.split("|"))[0]):d()}}},C=function(e){void 0===e&&(e={});var n=!1;if(!a(e)&&e.eventName){var r,c="https://sstats.adobe.com/ee/v1/interact?configId="+(h()?"8d7bac14-04dd-47cb-9710-7d4b1358467a":"20b030dd-b713-45da-8ff7-0a7027d2da29")+"&requestId="+m(),l=window.location.protocol+"//"+window.location.host+window.location.pathname,u=i(window,"fedsConfig.privacy.otDomainId");r=s(i(window,"OneTrust.getGeolocationData"))?window.OneTrust.getGeolocationData():g();var d=window.navigator.language||window.navigator.userLanguage;e.usePageLanguage&&(d=document.documentElement.lang);var f,p=e.source;p&&e.element&&(p+="|"+e.element),document.querySelector(t.selectors.banner)&&(f="Cookie banner");var w=document.querySelectorAll(t.selectors.buttonGroup+" button");w&&3===w.length&&(f="Cookie banner with opt-out button");var C={data:{eventType:"web.webInteraction.linkClicks",timestamp:(new Date).toISOString(),web:{webPageDetails:{name:l,URL:l},webInteraction:{type:"other",name:e.eventName,linkClicks:{value:1}}},_adobe_corpnew:{consentTracking:{activeGroups:window.adobePrivacy.activeCookieGroups().toString(),activeGroupsArray:window.adobePrivacy.activeCookieGroups(),bannerDesign:f,city:r.city,continent:r.continent,country:r.country,domainID:u,interaction:p,language:d,modalLaunchMethod:e.modalLaunchMethod,state:r.state,stateName:r.stateName,timezone:r.timezone,type:e.choiceType,zipcode:r.zipcode}}}},b=function(e){if(!n){e&&(C.data.identityMap={ECID:[{id:e}]});var t=new window.XMLHttpRequest;t.open("POST",c,!0),t.setRequestHeader("Content-Type","text/plain"),t.withCredentials=!1,t.send(JSON.stringify({events:[C]})),n=!0,y.log("analytics data",C)}};if(s(i(window,"_satellite.getVisitorId"))){var k=window._satellite.getVisitorId();if(o(k)&&s(k.getMarketingCloudVisitorID)){var S=k.getMarketingCloudVisitorID(b);S&&b(S)}else b()}else{var L=v("AMCV_9E1005A551ED61CA0A490D45%40AdobeOrg");"string"==typeof L&&L.length&&"string"==typeof(L=(L=L.split("MCMID|"))[1])&&L.length?b(L=(L=L.split("|"))[0]):b()}}},b=function(e){void 0===e&&(e={}),C(p({eventName:"showModal"},e))},k=function(e,t){return e&&t?s(window.Element.prototype.matches)?e.matches(t):(e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;do{n-=1}while(n>=0&&t.item(n)!==this);return n>-1}).apply(e,[t]):null},S=function(e,t){var n,o=e;if(!o||!t)return null;if(s(window.Element.prototype.closest))n=o.closest(t);else for(;o&&1===o.nodeType;){if(k(o,t)){n=o;break}o=o.parentNode}return n},L={ar:"تفضيلات Cookie",bg:"Предпочитания за бисквитки",cs:"Předvolby pro soubory cookie",da:"Cookie-indstillinger ",de:"Cookie-Einstellungen",en:"Cookie preferences",es:"Preferencias sobre cookies",et:"Cookie eelistused",fi:"Cookie-asetukset",fr:"Préférences en matière de cookies",he:"העדפות לקובצי Cookie",hu:"Cookie-beállítások",it:"Preferenze sui cookie",ja:"Cookieの環境設定",ko:"Cookie 환경 설정",lt:"Slapukų nuostatos",lv:"Cookie preferences",nl:"Cookievoorkeuren",no:"Cookie-innstillinger",pl:"Preferencje dotyczące plików cookie",pt:"Preferencias sobre cookies","pt-br":"Preferências de cookies",ro:"Preferințe privind cookie-urile",ru:"Настройки cookie",sk:"Preferencie používania súborov cookie",sl:"Nastavitve piškotkov",sv:"Cookie-inställningar ",tr:"Çerez tercihleri",uk:"Налаштування файлів cookie",zh:"Cookie 偏好设置","zh-hk":"Cookie 偏好設定","zh-hans":"Cookie 偏好设置","zh-hant":"Cookie 偏好設定","zh-tw":"Cookie 偏好設定"};L.default=L.en;var P=!1,E=new l({control:"privacy"}),T=function(){var e=[],n=v(t.cookies.consent);try{(n=(n=(n=(n=(n=n.split("groups="))[1]).split("&"))[0]).split(",")).forEach(function(t){if(-1!==t.indexOf(":1")){var n=t.replace(":1","");e.push(n)}})}catch(e){E.log("Could not parse consent cookie")}return e},D=function(){var e=!1,n=v(t.cookies.interaction);return n&&"number"==typeof Date.parse(n)&&T().length&&(e=!0),e},O=function(){return new Promise(function(e){var t=i(window,"OneTrust.GetDomainData");if(s(t)&&t().isBannerLoaded)e();else{var n=document.querySelector("html");n.addEventListener("otloadbanner",function t(){e(),n.removeEventListener("otloadbanner",t)})}})},I=function(){if(D()){var e=T(),o=e.length&&e.length===t.categories.length,r=1===e.length&&-1!==e.indexOf(t.categoriesDefault),i=e.length&&e.length!==t.categories.length&&!r;o&&(n(t.events.privacyConsent),E.log(t.events.privacyConsent+" dispatched")),i&&(n(t.events.privacyConsentCustom),E.log(t.events.privacyConsentCustom+" dispatched")),o||i||(n(t.events.privacyReject),E.log(t.events.privacyReject+" dispatched"))}},x=function(e,t){if(e&&t){var n=new Date((new Date).setFullYear((new Date).getFullYear()+1)),o=i(window,"fedsConfig.privacy.otDomainId");!function(e,t,n,o){var r,i,s,c,l="";"string"==typeof e&&e.length&&"string"==typeof document.cookie&&(l+=e+"="+t,a(n)||("string"==typeof(r=n.path)&&r.length&&(l+="; path="+r),(i=n.expiration)instanceof Date&&(l+="; expires="+i.toUTCString()),"string"==typeof(s=n.domain)&&s.length&&(l+="; domain="+s),"string"==typeof(c=n.sameSite)&&c.length&&(l+="; Samesite="+c)),document.cookie=l)}(e,t,{path:"/",domain:o&&-1!==o.indexOf("-test")?void 0:"."+(r=window.location.hostname,s=r.split("."),c=s.length,c>2&&(r=s[c-2]+"."+s[c-1],2===s[c-2].length&&2===s[c-1].length&&(r=s[c-3]+"."+r)),r),expiration:n,sameSite:"Lax"})}var r,s,c},A=function(){return document.querySelector("body > "+t.selectors.toastNotification)},M=function(){var e=A();e&&(e.blur(),e.classList.remove("show"),e.removeAttribute("tabindex"),e.style.removeProperty("outline"))},q=function(){!function(){if(!(A()instanceof HTMLElement)){var e=document.createElement("div");e.setAttribute("id",t.selectors.toastNotification.replace("#","")),e.classList.add(t.selectors.toastNotification.replace("#","")),e.appendChild(document.createRange().createContextualFragment('\n        <div class="cs-container">\n            <div class="cs-cols">\n                <div class="cs-check"></div>\n                <div class="cs-text"></div>\n            </div>\n            <div class="cs-cols">\n                <a href="#" class="ot-sdk-show-settings">\n                    <div class="cs-settings-text"></div>\n                </a>\n                <div class="cs-close">\n                    <span>x</span>\n                </div>\n            </div>\n        </div>')),document.body.appendChild(e)}}();var e=A();e.setAttribute("tabindex",0),e.style.setProperty("outline",0),e.classList.add("show"),e.focus(),setTimeout(function(){M()},1e4);var n=document.querySelector(t.selectors.bannerIcon);n&&n.parentNode.removeChild(n)},R=function(){document.querySelector(t.selectors.preferenceCenterConfirm).style.setProperty("display","none")},j=function(){return!!((e=document.querySelector(t.selectors.preferenceCenter))&&e instanceof HTMLElement&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&"hidden"!==window.getComputedStyle(e).getPropertyValue("visibility"));var e},N=function(){if(j())try{window.OneTrust.Close(),document.body.style.setProperty("overflow",""),document.documentElement.style.setProperty("overflow","")}catch(e){}},U=function(){var e=document&&document.documentElement&&document.documentElement.lang,t=!1;return e&&e.length&&!0===i(window,"fedsConfig.privacy.documentLanguage")&&(t=!0),t},_=!1,z=function(){_||(O().then(function(){var e,n,o,r;D()||(n=document.querySelector(t.selectors.banner),o=document.querySelector(t.selectors.bannerClose),r=document.querySelector(t.selectors.bannerIcon),n&&(o||n.insertAdjacentHTML("beforeend","<div id='"+t.selectors.bannerClose.replace("#","")+"'></div>"),(o=document.querySelector(t.selectors.bannerClose)).addEventListener("click",function(){n.classList.remove("slide-up"),n.classList.add("slide-down"),r||(n.parentElement.insertAdjacentHTML("beforeend","<div id='"+t.selectors.bannerIcon.replace("#","")+"'></div>"),(r=document.querySelector(t.selectors.bannerIcon)).addEventListener("click",function(){n.classList.remove("slide-down"),n.classList.add("slide-up"),r.classList.remove("show")})),r.classList.add("show")})),void 0===(e={usePageLanguage:U()})&&(e={}),w("showBanner"),C(p({eventName:"showBanner"},e)));var i=document.querySelector(t.selectors.bannerCustomize);i&&i.addEventListener("click",function(){b({source:"Banner",element:"Cookie Settings",modalLaunchMethod:"Cookie Settings on Banner",usePageLanguage:U()})})}),window.addEventListener("click",function(e){var n,o,r,i;j()&&function(e){var n=document.querySelector(t.selectors.preferenceCenterAlwaysActive);if(n){n.innerHTML=window.location.hostname;var o=S(n,"li");if(o){o.classList.add("always-active");var r=S(e,".category-item");if(r){var i=r.querySelector(".category-header"),a=r.querySelector(".ot-cookie-description"),s=document.querySelector("#vendors-list-title");if(i&&s){var c=i.innerHTML;a&&(c+="<div class='ot-cookie-description'>"+a.innerHTML+"</div>"),s.innerHTML=c}}}}}(e.target),(S(e.target,t.selectors.bannerAccept)||S(e.target,t.selectors.preferenceCenterAccept))&&function(){N(),R();var e=[];return t.categories.forEach(function(t){e.push(t+":1")}),B(e,!0)}().then(function(){var n;q(),void 0===(n={source:S(e.target,t.selectors.bannerAccept)?"Banner":"Modal",element:"Enable all",usePageLanguage:U()})&&(n={}),w("choice","enable"),C(p({eventName:"choice",choiceType:"enable"},n))}),S(e.target,t.selectors.preferenceCenterConfirm)&&function(){N(),R();var e=T(),n=[];return t.categories.forEach(function(t){n.push(t+":"+(-1!==e.indexOf(t)?"1":"0"))}),B(n,!0)}().then(function(){var e;q(),void 0===(e={source:"Modal",element:"Confirm my choices",usePageLanguage:U()})&&(e={}),w("choice","custom"),C(p({eventName:"choice",choiceType:"custom"},e))}),(S(e.target,t.selectors.bannerReject)||S(e.target,t.selectors.preferenceCenterReject))&&function(){N(),R();var e=[];return t.categories.forEach(function(n){e.push(n+":"+(n===t.categoriesDefault?"1":"0"))}),B(e,!0)}().then(function(){var n;q(),void 0===(n={source:S(e.target,t.selectors.bannerReject)?"Banner":"Modal",element:"Don't enable",usePageLanguage:U()})&&(n={}),w("choice","disable"),C(p({eventName:"choice",choiceType:"disable"},n))}),S(e.target,t.selectors.preferenceCenterFaqs)&&(o=e.target,r=function(e,t){try{var n=e.parentElement.querySelector("#"+e.getAttribute("aria-controls"));t?(e.parentElement.classList.add("opened"),e.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false"),n.style.setProperty("display","block")):(e.parentElement.classList.remove("opened"),e.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),n.style.setProperty("display","none"))}catch(e){E.log("Could not find active item")}},i=document.querySelectorAll(t.selectors.preferenceCenterFaqs),Array.prototype.forEach.call(i,function(e){if(e===o){var t="true"===e.getAttribute("aria-expanded");r(e,!t)}else r(e,!1)})),S(e.target,t.selectors.preferenceCenterCheckboxes)&&function(){var e=[],n=T().sort(),o=document.querySelectorAll(t.selectors.preferenceCenterCheckboxes);Array.prototype.forEach.call(o,function(t){t.checked&&e.push(t.getAttribute("data-optanongroupid"))}),e=e.sort();var r=document.querySelector(t.selectors.preferenceCenterConfirm);JSON.stringify(e)!==JSON.stringify(n)?r.style.setProperty("display","inline-block"):r.style.setProperty("display","none")}(),S(e.target,t.selectors.preferenceCenterClose)&&(void 0===(n={usePageLanguage:U()})&&(n={}),w("closeModal"),C(p({eventName:"closeModal"},n))),S(e.target,t.selectors.toastNotificationClose)&&M(),S(e.target,t.selectors.toastNotificationManage)&&(e.preventDefault(),M(),H({source:"Toast",element:"Manage Cookie Settings",modalLaunchMethod:"Cookie Settings on Toast",usePageLanguage:U()})),S(e.target,t.selectors.bannerClose)&&function(e){void 0===e&&(e={}),C(p({eventName:"choice"},e))}({source:"Banner",element:"Minimize banner",usePageLanguage:U()})}),_=!0)},G=function(){var e=U();E.log("Use page language to render Banner and Preference Center",e),f({path:t.url,type:"script",id:t.id,crossorigin:!0,data:{"domain-script":i(window,"fedsConfig.privacy.otDomainId"),"document-language":e}})},H=function(e){void 0===e&&(e={modalLaunchMethod:"Programatically",usePageLanguage:U()}),z();var t=i(window,"OneTrust.ToggleInfoDisplay");s(t)?(t(),b(e)):(G(),O().then(function(){var t=i(window,"OneTrust.ToggleInfoDisplay");s(t)&&(t(),b(e))}))},B=function(e,o){void 0===o&&(o=!0);var r=[],i=[];if(e.forEach(function(e){var n=e.split(":"),o=n[0];if(o===t.categoriesDefault&&"0"===n[1])return r.push(o+":1"),void i.push(o);-1!==t.categories.indexOf(o)&&(i.push(o),r.push(e))}),i.sort().toString()!==t.categories.toString())return E.log("New consent does not include all categories, cannot update"),Promise.resolve();var a=function(){return r.indexOf("C0004:1")};return new Promise(function(e){var i=function(){var n,i;n=v(t.cookies.consent),i=[],n&&n.length?(n=n.split("&")).forEach(function(e){var t=e.split("="),n=t[0],o=t[1];"groups"===n&&(o=r.join(",")),"datestamp"===n&&(o=(new Date).toString()),i.push(n+"="+encodeURIComponent(o).replace(/%20/g,"+"))}):i.push("groups="+encodeURIComponent(r.join(",")).replace(/%20/g,"+")),x(t.cookies.consent,i.join("&")),E.log("Setting consent",r),r.forEach(function(e){var n=e.split(":");!function(e,n){if(e&&e!==t.categoriesDefault&&-1!==t.categories.indexOf(e)){var o=document.querySelector('input[data-optanongroupid="'+e+'"]');if(!document.querySelector(t.selectors.banner)){var r=document.createElement("div");r.id=t.selectors.banner.replace("#",""),r.style="display: none";var i=document.querySelector(t.selectors.wrapper);i instanceof HTMLElement&&i.appendChild(r)}o instanceof HTMLElement&&(n?o.checked||(o.click(),E.log("Check category "+e+" programatically in Preference Center")):o.checked&&(o.click(),E.log("Uncheck category "+e+" programatically in Preference Center")))}}(n[0],"1"===n[1])}),o&&I(),e()};-1!==a()?g().then(function(e){var o;"us"===e.country.toLowerCase()?(null==(o=window.navigator)?void 0:o.globalPrivacyControl)?(E.log("User has Global Privacy Control ON - disabling C0004"),r[a()]="C0004:0",i()):new Promise(function(e,o){var r=setTimeout(function(){P||(P=!1,o())},t.restrictions.imsTimeout);window.addEventListener("onImsLibInstance",function t(n){var i,a=null==n||null==(i=n.detail)?void 0:i.instance;a?(P=!0,window.removeEventListener("onImsLibInstance",t),clearTimeout(r),e(a)):o()}),n("getImsLibInstance",null)}).then(function(e){e.isSignedInUser()?e.getProfile().then(function(e){var n=function(e){var n=e.filter(function(e){return t.restrictions.userTags.age.includes(e)});if(n.length)return[!0,n];var o=e.filter(function(e){return t.restrictions.userTags.edu.includes(e)});return o.length?e.includes("edu_teacher")?e.includes("edu_student")?[!0,o]:[!1]:[!0,o]:[!1]}(e.tags);n[0]?(E.log("User is part of sensitive group "+n[1].join(",")+" - disabling C0004"),r[a()]="C0004:0",i()):i()}).catch(function(){i()}):i()}).catch(function(){i()}):i()}).catch(function(){i()}):i()})},V={bindEvents:z,disableCategories:function(e,n){if(void 0===e&&(e=[]),D()){var o=T(),r=[],i=[];t.categories.forEach(function(n){if(n===t.categoriesDefault)return r.push(n+":1"),void i.push(n);-1!==o.indexOf(n)&&-1===e.indexOf(n)?(r.push(n+":1"),i.push(n)):r.push(n+":0")}),i.sort().toString()!==o.sort().toString()?B(r,n):E.log("Consent has not changed, no need to update")}else E.log("No existing consent, cannot disable categories")},enableCategories:function(e,n){if(void 0===e&&(e=[]),D()){var o=T(),r=[],i=[];t.categories.forEach(function(n){return n===t.categoriesDefault||-1!==o.indexOf(n)?(r.push(n+":1"),void i.push(n)):void(-1!==e.indexOf(n)?(r.push(n+":1"),i.push(n)):r.push(n+":0"))}),i.sort().toString()!==o.sort().toString()?B(r,n):E.log("Consent has not changed, no need to update")}else E.log("No existing consent, cannot enable categories")},getConfiguration:function(){var e=i(window,"fedsConfig.privacy.otDomainId");return window.fetch(""+t.configEndpoint+e+"/"+e+".json").then(function(e){return e.json()}).catch(function(){})},getConsent:T,hasExistingConsent:D,hidePreferenceCenter:N,injectCSS:function(){var e=document.createElement("style");document.head.appendChild(e),e.sheet.insertRule("#onetrust-banner-sdk.bottom { bottom: 0! important }")},loadOnClick:function(){window.addEventListener("click",function(e){var t=i(window,"fedsConfig.privacy.footerLinkSelector");t&&S(e.target,t)&&(e.preventDefault(),H({modalLaunchMethod:"Footer link",usePageLanguage:U()}))})},loadSDK:G,onBannerLoad:O,setButtonText:function(){var e=function e(t){if(t){if(L[t])return L[t];if(-1!==t.indexOf("-"))return e(t.substr(0,2))}return L.default},t=function(){var t=document.querySelector(i(window,"fedsConfig.privacy.footerLinkSelector"));if(t){var n=window.navigator.language||window.navigator.userLanguage;U()&&(n=document.documentElement.lang),t.innerText=e(n.toLowerCase())}};"loading"===document.readyState?document.addEventListener("readystatechange",function e(){t(),document.removeEventListener("readystatechange",e)}):t()},setConsent:B,setImplicitConsent:function(){var e=[];return t.categories.forEach(function(t){e.push(t+":1")}),x(t.cookies.interaction,(new Date).toISOString()),B(e,!0)},showPreferenceCenter:H,triggerConsentEvent:I,usePageLanguage:U},F=new l({control:"privacy"});window.adobePrivacy={events:t.events,activeCookieGroups:function(){return V.hasExistingConsent()?V.getConsent().sort():[t.categoriesDefault]},disable:V.disableCategories,enable:V.enableCategories,hasUserProvidedConsent:function(){var e=V.getConsent();return V.hasExistingConsent()&&e.length&&e.length===t.categories.length},hasUserProvidedCustomConsent:function(){var e=V.getConsent(),n=1===e.length&&-1!==e.indexOf(t.categoriesDefault);return V.hasExistingConsent()&&e.length&&e.length!==t.categories.length&&!n},loadResource:f,loadOneTrust:function(){return new Promise(function(e){a(window.OneTrust)?(V.loadSDK(),e(V.onBannerLoad())):e()})},showConsentPopup:function(){V.showPreferenceCenter()},showPreferenceCenter:V.showPreferenceCenter},function(e){void 0===e&&(e={});var o=i(window,"fedsConfig.privacy");if(a(o))F.log("Configuration is missing, cannot initialize Privacy");else{var s,c;if((!r(e,"setButtonText")||r(e,"setButtonText")&&!0===e.setButtonText)&&V.setButtonText(),null!==new URLSearchParams(window.location.search).get("autoConsent")&&V.setImplicitConsent(),null!==(s=new URLSearchParams(window.location.search).get("customOtDomainId"))&&i(window,"fedsConfig.privacy.otDomainId")&&(window.fedsConfig.privacy.otDomainId=s,F.log("Using custom domain id: "+s)),null!==(c=new URLSearchParams(window.location.search).get("customPrivacyLocation"))&&(window.sessionStorage.setItem(t.location,JSON.stringify({country:c.toUpperCase()})),window.OneTrust=window.OneTrust||{},window.OneTrust.geolocationResponse={countryCode:c.toUpperCase(),stateCode:""},F.log("Using custom privacy location",c)),"true"===new URLSearchParams(window.location.search).get("skipConsent"))return n(t.events.privacyReject),F.log(t.events.privacyReject+" dispatched"),void F.log("Stop execution for Privacy logic");if(V.hasExistingConsent()){V.loadOnClick();var l=V.getConsent(),u=[];t.categories.forEach(function(e){u.push(e+":"+(-1!==l.indexOf(e)?"1":"0"))}),V.setConsent(u,!0)}else Promise.all([g(),V.getConfiguration()]).then(function(e){!function(e,t){if(a(e)||a(t))return F.log("Location or configuration are empty, fallback to loading OneTrust"),!0;var n=i(t,"RuleSet");if(!n)return!1;var o=n.filter(function(t){return-1!==t.Countries.indexOf(e.country.toLowerCase())&&!t.Global}),r=!a(o[0]);return F.log("Active rule:",o[0]),F.log("Is GDPR enforced: "+r),r}(e[0],e[1])?V.setImplicitConsent():(V.injectCSS(),V.loadSDK(),V.bindEvents(),V.onBannerLoad().then(function(){var e,t;null!=(e=window.Optanon)&&null!=(t=e.GetDomainData())&&t.ShowAlertNotice||(F.log("OneTrust location service: user is not GDPR enforced"),V.setImplicitConsent())})),V.loadOnClick()}).catch(function(){})}}()});
