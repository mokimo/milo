!function(){const e={clientId:"",endpoint:"https://www.adobe.com/lana/ll",endpointStage:"https://www.stage.adobe.com/lana/ll",errorType:"e",sampleRate:1,tags:"",implicitSampleRate:1,useProd:!0},n=window;function o(n,o){return n||(n={}),o||(o={}),Object.keys(e).reduce((t,a)=>(t[a]=function(t){return void 0!==n[t]?n[t]:void 0!==o[t]?o[t]:e[t]}(a),t),{})}function t(e){a(e.reason||e.error||e.message,{errorType:"i"})}function a(e,t){(e=e&&e.stack?e.stack:e||"").length>2e3&&(e=`${e.slice(0,2e3)}<trunc>`);const a=o(t,n.lana.options);if(!a.clientId)return void console.warn("LANA ClientID is not set in options.");const s="i"===a.errorType?a.implicitSampleRate:a.sampleRate;if(!n.lana.debug&&!n.lana.localhost&&s<=100*Math.random())return;const l=function(){const{host:e}=window.location;return".adobe.com"===e.substring(e.length-10)&&".corp.adobe.com"!==e.substring(e.length-15)&&".stage.adobe.com"!==e.substring(e.length-16)}(),i=l&&a.useProd?a.endpoint:a.endpointStage,r=[`m=${encodeURIComponent(e)}`,`c=${encodeURI(a.clientId)}`,`s=${s}`,`t=${encodeURI(a.errorType)}`];if(a.tags&&r.push(`tags=${encodeURI(a.tags)}`),(!l||n.lana.debug||n.lana.localhost)&&console.log("LANA Msg: ",e,"\nOpts:",a),!n.lana.localhost||n.lana.debug){const e=new XMLHttpRequest;return n.lana.debug&&(r.push("d"),e.addEventListener("load",()=>{console.log("LANA response:",e.responseText)})),e.open("GET",`${i}?${r.join("&")}`),e.send(),e}}n.lana={debug:!1,log:a,options:o(n.lana&&n.lana.options)},-1!==n.location.search.toLowerCase().indexOf("lanadebug")&&(n.lana.debug=!0),-1!==n.location.host.toLowerCase().indexOf("localhost")&&(n.lana.localhost=!0),n.addEventListener("error",t),n.addEventListener("unhandledrejection",t)}();
